(this.webpackJsonplocal_elections=this.webpackJsonplocal_elections||[]).push([[0],{182:function(e,t,n){},258:function(e,t,n){},275:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(56),c=n.n(r),o=(n(258),n(182),n(16)),s=n(13),l=n(314),d=n(342),u=n(6),j=Object(l.a)((function(e){var t;return{fromControl:{width:"70%"},typography:(t={fontWeight:300,padding:0,margin:0,fontSize:20},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:11}),t)}})),b=function(e){var t=j(),n=i.a.useState(""),r=Object(o.a)(n,2),c=r[0],s=r[1],l=e.index,b=e.response,f=e.returnAnswer,p=e.label,x=e.disabled,m=e.title;Object(a.useEffect)((function(){b&&s(b)}),[b]);return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(u.jsx)("p",{classes:t.typography,variant:"h6",component:"h6",children:m}),Object(u.jsx)(d.a,{disabled:x&&!0,id:"textField",value:c,label:p&&p,onChange:function(e){s(e.target.value),f(e.target.value,l)}})]})})},f=n(154),p=n(345),x=n(319),m=n(338),O=Object(l.a)((function(e){var t;return{formControl:{minWidth:"30%",maxWidth:300},typography:(t={fontWeight:300,padding:0,paddingBottom:10,margin:0,fontSize:20},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:11}),t)}}));function h(e){var t=O(),n=i.a.useState(""),a=Object(o.a)(n,2),r=a[0],c=a[1],s=i.a.useState([]),l=Object(o.a)(s,2),d=(l[0],l[1],i.a.useState(!1)),j=Object(o.a)(d,2),b=j[0],f=j[1],h=e.title,g=e.answers,v=e.returnAnswer,S=e.index;e.answersValue;return Object(u.jsxs)("div",{style:{paddingTop:40},children:[Object(u.jsx)("p",{className:t.typography,children:h}),Object(u.jsx)(x.a,{className:t.formControl,children:Object(u.jsx)(m.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:b,onClose:function(){f(!1)},onOpen:function(){f(!0)},value:r,onChange:function(e){var t=g.map((function(t){if(t.title==e.target.value)return t.value})).filter(Boolean)[0];c(e.target.value),v(t,S)},children:g.map((function(e,t){return Object(u.jsx)(p.a,{value:e.title,children:e.title})}))})})]})}var g=n(164);g.a.initializeApp({apiKey:"AIzaSyD29vr6hDlRBNnNTTMG_EDGqTW6J0PuGa4",authDomain:"local-elections-210f5.firebaseapp.com",projectId:"local-elections-210f5",storageBucket:"local-elections-210f5.appspot.com",messagingSenderId:"666238817996",appId:"1:666238817996:web:57fd88586b301e8fe15469",measurementId:"G-EK2H89C8LB"});var v=new g.a.auth.GoogleAuthProvider,S=g.a,w=n(316),y=n(341),z=n(346),C=n(340),k=Object(l.a)((function(e){return{formControl:{margin:e.spacing(1),width:"70%"},typography:{fontSize:"19px"},radio:{fontSize:"15px",color:"black"}}}));var _=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),l=Object(o.a)(s,2),d=l[0],j=l[1],b=Object(a.useState)([]),f=Object(o.a)(b,2),O=f[0],h=f[1],g=k(),v=i.a.useState(!1),S=Object(o.a)(v,2),_=S[0],T=S[1],N=e.title,A=e.answers,E=e.returnAnswer,W=e.index;return Object(a.useEffect)((function(){var e=A.map((function(e,t){return e.answers})),t=A.map((function(e,t){return e.title==r})).indexOf(!0);h(e[t]),j("")}),[r]),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{classes:g.typography,variant:"h6",component:"h6",children:N}),Object(u.jsx)(x.a,{className:g.formControl,children:Object(u.jsx)(m.a,{open:_,value:r,onChange:function(e){c(e.target.value),E(void 0,W)},onClose:function(){T(!1)},onOpen:function(){T(!0)},input:Object(u.jsx)(w.a,{id:"grouped-select"}),children:A.map((function(e,t){return Object(u.jsx)(p.a,{value:e.title,children:e.title})}))})}),O&&Object(u.jsx)("div",{style:{paddingTop:15},children:Object(u.jsx)(x.a,{error:!0,style:{margin:0,padding:0},const:"fieldset",children:Object(u.jsx)(y.a,{value:d,onChange:function(e){j(e.target.value);var t=r+"=>"+e.target.value;E(t,W)},children:O.map((function(e,t){return Object(u.jsx)(z.a,{value:e,control:Object(u.jsx)(C.a,{}),label:Object(u.jsx)("p",{className:g.radio,children:e})},t)}))})})})]})})},T=n(323),N=n(339),A=n(322),E=n(321),W=Object(l.a)((function(e){return{typography:{fontSize:"24px"}}})),R=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),i=(n[0],n[1]),r=Object(a.useState)(null),c=Object(o.a)(r,2),s=c[0],l=c[1],d=Object(a.useState)(null),j=Object(o.a)(d,2),b=j[0],f=j[1],p=Object(a.useState)(!1),x=Object(o.a)(p,2),m=x[0],O=x[1],h=W(),g=e.title,v=e.index,w=e.returnAnswer,y=e.lang;Object(a.useEffect)((function(){w(!!m&&"abondon",v)}),[m]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{classes:h.typography,variant:"h6",component:"h6",children:g}),!s&&Object(u.jsx)(z.a,{control:Object(u.jsx)(E.a,{checked:m,onChange:function(e){O(!m)},name:"checkedB",color:"primary"}),label:"ru"==y?"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f":"\u0411\u0430\u0448 \u0442\u0430\u0440\u0443\u0443"}),Object(u.jsx)("br",{}),!m&&Object(u.jsxs)(A.a,{style:{marginBottom:15},color:"primary",variant:"contained",component:"label",children:["Upload File",Object(u.jsx)("input",{type:"file",onChange:function(e){if(e.target.files[0]){i(e.target.files[0]);var t=e.target.files[0],n=t.lastModified+t.name+"___"+new Date;S.storage().ref("images/".concat(n)).put(e.target.files[0]).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;f(t)}),(function(e){console.log(e)}),(function(){S.storage().ref("images").child(n).getDownloadURL().then((function(e){console.log(e),w(e,v),l(e)}))}))}},hidden:!0})]}),Object(u.jsx)("br",{}),!m&&b&&Object(u.jsxs)(N.a,{className:h.uploadLine,position:"relative",display:"inline-flex",children:[Object(u.jsx)(T.a,{variant:"determinate",value:b}),Object(u.jsx)(N.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(u.jsx)("p",{variant:"caption",component:"div",color:"textSecondary",children:"".concat(Math.round(b),"%")})})]})]})},B=Object(l.a)((function(e){var t,n;return{formControl:{marginTop:"30px",margin:"0 auto",textAlign:"left"},typography:(t={fontWeight:300,padding:0,paddingBottom:10,margin:0,fontSize:20},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:11}),t),radio:(n={fontSize:15,color:"black",fontWeight:200,padding:0,margin:0},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:9}),n)}})),I=function(e){var t=i.a.useState(""),n=Object(o.a)(t,2),r=n[0],c=n[1],s=B(),l=e.title,d=(e.id,e.answers),j=e.ans,b=e.index,f=(e.values,e.returnAnswer);return Object(a.useEffect)((function(){if(j){var e=Object.values(j)[0].split("_")[1]-1;c(d[e])}}),[j]),Object(u.jsxs)("div",{className:s.formControl,children:[Object(u.jsx)("p",{className:s.typography,children:l}),Object(u.jsx)("div",{children:Object(u.jsx)(x.a,{error:!0,style:{margin:0,padding:0},const:"fieldset",children:Object(u.jsx)(y.a,{"aria-label":l,name:l,value:r,onChange:function(e){c(e.target.value),f("answ_"+(1+d.indexOf(e.target.value)),b)},children:d.map((function(e,t){return Object(u.jsx)(z.a,{value:e,control:Object(u.jsx)(C.a,{}),label:Object(u.jsx)("p",{className:s.radio,children:e})},t)}))})})})]})},F=Object(l.a)((function(e){var t;return{formControl:{marginTop:"30px",margin:"0 auto",textAlign:"left"},typography:(t={fontWeight:300,padding:0,margin:0,fontSize:20},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:11}),t),radio:{fontSize:"15px",color:"black"}}})),D=function(e){var t=i.a.useState(""),n=Object(o.a)(t,2),r=n[0],c=n[1],s=i.a.useState(null),l=Object(o.a)(s,2),d=l[0],j=l[1],f=F(),p=e.title,x=e.lang,m=(e.id,e.answers),O=e.ans,h=e.index,g=(e.values,e.returnAnswer);return Object(a.useEffect)((function(){if(O){var e=Object.values(O)[0].split("_")[1]-1;c(m[e])}}),[O]),Object(a.useEffect)((function(){g("answ_1"==r?r:void 0,h)}),[r]),Object(a.useEffect)((function(){g(r+"=="+d,h),r+"=="+d=="answ_2=="&&g(void 0,h)}),[d]),Object(u.jsxs)("div",{className:f.formControl,children:[Object(u.jsx)(I,{title:p,answers:m,returnAnswer:function(e){c(e)},id:h,index:h,values:m},h),"answ_2"===r&&Object(u.jsx)(b,{returnAnswer:function(e){j(e)},index:h,title:"ru"==x?"\u041f\u043e\u0434 \u043a\u0430\u043a\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0432\u044b \u0432\u044b\u0434\u0432\u0438\u0433\u0430\u0435\u0442\u0435\u0441\u044c":"\u0421\u0438\u0437 \u043a\u0430\u0439\u0441\u044b \u043d\u043e\u043c\u0435\u0440\u0433\u0435 \u043a\u04e9\u0440\u0441\u04e9\u0442\u04af\u043b\u0433\u04e9\u043d\u0441\u04af\u0437"})]})},q=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)([]),s=Object(o.a)(c,2),l=s[0],d=s[1],j=e.returnFields,p=e.type_people,x=e.lang;Object(a.useEffect)((function(){var e=S.firestore(),t="kg"==x?p+"_kg":p;e.collection("fields").doc(t).onSnapshot((function(e){r(e.data().questions)}))}),[]),Object(a.useEffect)((function(){console.log(l)}),[l]);var m=function(e,t){var n=Object(f.a)(l);n[t]=e,d(n),j(n)};return Object(u.jsx)("div",{children:i.map((function(e,t){return"text"==e.type?Object(u.jsx)("div",{style:{marginTop:30},children:Object(u.jsx)(b,{returnAnswer:m,index:t,title:e.title})}):"photo"==e.type?Object(u.jsx)("div",{style:{marginTop:30},children:Object(u.jsx)(R,{lang:x,returnAnswer:m,index:t,title:e.title})}):"select_with_future"==e.type?Object(u.jsx)("div",{style:{marginTop:30},children:Object(u.jsx)(_,{answers:e.answers,title:e.title,index:t,returnAnswer:m})}):"radio"==e.type?Object(u.jsx)(D,{title:e.title,answers:e.answers,returnAnswer:m,id:t,index:t,values:e.answers},t):"select"==e.type?Object(u.jsx)("div",{children:Object(u.jsx)(h,{index:t,title:e.title,answers:e.answers,returnAnswer:m})}):void 0}))})},U=Object(l.a)((function(e){var t;return{typography:(t={fontSize:14,marginTop:"10px",width:"70%",color:"#ff0000",fontWeight:300,padding:0},Object(s.a)(t,"@media (max-width:780px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:9}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:7}),t)}}));function P(e){var t=e.text,n=U();return Object(u.jsx)("div",{style:{padding:0,margin:0},className:n.typography,children:Object(u.jsx)("p",{style:{padding:0,margin:0},children:t})})}var H=n(324),G=Object(l.a)((function(e){var t;return{formControl:{marginTop:"30px",margin:"0 auto",width:"70%"},typography:{fontSize:"24px"},pagination:{padding:0,margin:"30px 0"},container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 20px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t)}})),L=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)([]),l=Object(o.a)(c,2),d=l[0],j=l[1],b=Object(a.useState)({}),p=Object(o.a)(b,2),x=p[0],m=p[1],O=Object(a.useState)(),h=Object(o.a)(O,2),g=(h[0],h[1]),v=Object(a.useState)(0),w=Object(o.a)(v,2),y=w[0],z=w[1],C=Object(a.useState)([]),k=Object(o.a)(C,2),_=k[0],T=k[1],N=Object(a.useState)(null),E=Object(o.a)(N,2),W=E[0],R=E[1],B=Object(a.useState)(null),F=Object(o.a)(B,2),D=(F[0],F[1],Object(a.useState)(0)),q=Object(o.a)(D,2),U=q[0],L=q[1],M=Object(a.useState)(30),V=Object(o.a)(M,2),J=V[0],K=(V[1],Object(a.useState)([])),X=Object(o.a)(K,2),Y=(X[0],X[1],G()),Z=(e.persons,e.sex),Q=e.lang,$=e.returnAxisesAverage;Object(a.useEffect)((function(){var e=S.firestore(),t="ru"==Q?"all_questions":"all_questions_kg";e.collection("questions").doc(t).onSnapshot((function(e){r(e.data().questions.slice(0,1))}));var n="ru"==Q?"axises":"axises_kg";e.collection("questions").doc(n).onSnapshot((function(e){m(e.data().axises),g(Object.keys(e.data().axises).forEach((function(t){return e.data().axises[t]=0})))}))}),[]);var ee=function(){return d.map((function(e,t){return e&&Object.keys(e)[0]})).filter(Boolean).map((function(e){return parseInt(e)}))};Object(a.useEffect)((function(){var e=ee();z(100*e.length/i.length);var t=i.map((function(e,t){return t}));if(t=(t=t.map((function(t){return e.includes(t)&&t}))).slice(U,U+J),T(t),e.length==i.length&0!=i){var n=d.map((function(e,t){return i[t].values[e[t]]})),a=Object.keys(x),r={};a.forEach((function(e){return r[e]=0}));var c={};a.forEach((function(e){return c[e]=0})),n.map((function(e,t){Object.keys(e).forEach((function(t){r[t]+=e[t],c[t]+=1}))}));var o={};Object.keys(r).map((function(e,t){o[e]=r[e]?r[e]/c[e]:0})),g(o),$(o)}}),[d]);var te=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},ne=function(e,t){var n=Object(f.a)(d);n[t]=Object(s.a)({},t,e),j(n),console.log(n)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(H.a,{style:{position:"sticky",top:0},variant:"determinate",value:y||0}),Object(u.jsx)("div",{style:{textAlign:"left"},children:i.slice(U,U+J).map((function(e,t){return Object(u.jsxs)("div",{id:"question"+(t+U),children:[Object(u.jsx)(I,{title:e.title,answers:e.answers[Z],returnAnswer:ne,id:t,ans:d[U+t],index:t+U,values:e.values},t+U),!_.includes(t+U)&&W&&Object(u.jsx)(P,{text:"\u0412\u0430\u043c \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u044d\u0442\u043e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441"})]})}))}),Object(u.jsxs)("div",{className:Y.pagination,children:[U+J>J?Object(u.jsx)(A.a,{variant:"contained",color:"secondary",onClick:function(){return L(U-J),void te()},children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}):Object(u.jsx)("div",{}),Object(u.jsx)("button",{className:Y.button,onClick:function(){return function(){var e=ee(),t=i.map((function(e,t){return t}));if(t=(t=t.map((function(t){return e.includes(t)&&t}))).slice(U,U+J),T(t),R(!0),-1!=t.indexOf(!1)){var n=document.getElementById("question".concat(t.indexOf(!1)+U));n&&n.scrollIntoView({behavior:"smooth",block:"start"})}else L(U+J),R(null),te()}()},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})]})},M=Object(a.createContext)(),V=function(e){var t=e.children,n=Object(a.useState)(null),i=Object(o.a)(n,2),r=i[0],c=i[1];return Object(a.useEffect)((function(){S.auth().onAuthStateChanged(c)}),[]),Object(u.jsx)(M.Provider,{value:{currentUser:r},children:t})},J=Object(a.createContext)(),K=function(e){var t=e.children,n=Object(a.useState)(null),i=Object(o.a)(n,2),r=i[0],c=i[1];return Object(a.useEffect)((function(){S.auth().onAuthStateChanged(c)}),[]),Object(u.jsx)(J.Provider,{value:{currentUser:r},children:t})},X=n(205),Y=(n(233),Object(l.a)((function(e){return{formControl:{paddingBottom:0}}}))),Z=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),i=(n[0],n[1],e.applicants),r=Y();return Object(u.jsx)("div",{className:r.formControl,children:Object(u.jsx)(X.a,{style:{height:"600px"},option:{color:i.map((function(e){return e.color})),legend:{show:!0,data:i.map((function(e){return e.name})),orient:"horizontal",height:"auto",top:"3%",left:0},grid:{z:2,top:"30%",height:"50%",bottom:"10%"},xAxis:{name:"x",min:-2,max:2},yAxis:{name:"y",min:-2,max:2},series:i}})})},Q=n(344),$=Object(l.a)((function(e){var t;return{formControl:{minWidth:120},li:{fontSize:"15px"},title:(t={fontWeight:700,padding:0,fontSize:17},Object(s.a)(t,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:14}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:13}),t)}})),ee=function(e){var t=$(),n=i.a.useState(""),r=Object(o.a)(n,2),c=r[0],s=r[1],l=i.a.useState(!1),d=Object(o.a)(l,2),j=d[0],b=d[1],f=e.index,O=e.response,h=e.returnAnswer,g=e.exist,v=e.answers;Object(a.useEffect)((function(){O&&s(O)}),[O]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:t.title,children:e.title}),Object(u.jsxs)(x.a,{className:t.formControl,disabled:!!e.locked,children:[Object(u.jsx)(Q.a,{id:"controlled-open-select-label",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"}),Object(u.jsx)(m.a,{labelId:"controlled-open-select-label",id:"select"+f,open:j,onClose:function(e){b(!1)},onOpen:function(e){b(!0)},value:c,onChange:function(e){s(e.target.value),h(e.target.value)},children:v.map((function(e,n){if(e!=g)return Object(u.jsx)(p.a,{className:t.li,value:e,children:e},n)}))})]})]})},te=n(325),ne=Object(l.a)((function(e){var t,n;return{plus:{textAlign:"right",justifySelf:"end"},coordinates:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gridTemplateRows:"1fr",justifyContent:"space-evenly",fontFamily:"Roboto, sans-serif",fontWeight:300,color:"#474747",fontSize:"16px",alignItems:"start",justifyItems:"center"},header:(t={textAlign:"center",padding:0,fontSize:25,margin:"0 0 15px 0"},Object(s.a)(t,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:17}),t),paragraph:(n={fontWeight:400,padding:0,margin:0},Object(s.a)(n,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:11}),n),minus:{justifySelf:"start"}}}));function ae(e){var t=ne(),a=n(271),i=e.data,r=e.axisName,c=e.plus,o=e.minus;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:t.header,children:r}),Object(u.jsx)("div",{className:"nameAxis"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"arrows",children:[Object(u.jsxs)("div",{className:t.coordinates,children:[Object(u.jsx)("p",{className:t.paragraph+" "+t.minus,children:o}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{style:{width:2,height:50,background:"#2b2b2b"}})}),Object(u.jsx)("p",{className:t.paragraph+" "+t.plus,children:c})]}),Object(u.jsxs)(te.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(u.jsx)("p",{style:{fontSize:21},children:a[3051]}),Object(u.jsx)("p",{style:{transform:"scaleX(-1)",fontSize:21},children:a[3051]})]})]}),Object(u.jsx)(X.a,{style:{height:"200px"},className:"scatter",option:{color:i.map((function(e){return e.color})),legend:{data:i.map((function(e){return e.name})),orient:"horizontal",bottom:"0%",width:"100%"},xAxis:{min:-2,max:2},yAxis:{show:!1},height:0,series:i}})]})]})}var ie=n(326),re=n(328),ce=n(330),oe=n(327),se=n(329),le=n(331),de=(Object(l.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridTemplateRows:"auto"}}})),function(e){Object(l.a)();var t=e.nearest,n=e.texts,a=e.url;return Object(u.jsxs)(te.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(u.jsx)(te.a,{item:!0,children:Object(u.jsx)(ie.a,{url:a,quote:"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0430\u044f \u043c\u043d\u0435 \u043f\u0430\u0440\u0442\u0438\u044f \u2014 "+t+"\n"+n.join(" ")+"\n\n\u0423\u0437\u043d\u0430\u0439, \u043a\u0430\u043a\u0438\u0435 \u043a\u044b\u0440\u0433\u044b\u0437\u0441\u043a\u0438\u0435 \u043f\u0430\u0440\u0442\u0438\u0438 \u0441\u043e\u043b\u0438\u0434\u0430\u0440\u043d\u044b \u0441 \u043c\u043e\u0435\u0439 \u0438 \u0441 \u0442\u0432\u043e\u0435\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0435\u0439",children:Object(u.jsx)("div",{children:Object(u.jsx)(oe.a,{style:{borderRadius:"50%"},size:"2.1rem"})})})}),Object(u.jsx)(te.a,{item:!0,children:Object(u.jsx)(re.a,{url:a,title:"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0430\u044f \u043c\u043d\u0435 \u043f\u0430\u0440\u0442\u0438\u044f \u2014 "+{nearest:t}+"\n"+n.join(" ")+"\n\n\u0423\u0437\u043d\u0430\u0439, \u043a\u0430\u043a\u0438\u0435 \u043a\u044b\u0440\u0433\u044b\u0437\u0441\u043a\u0438\u0435 \u043f\u0430\u0440\u0442\u0438\u0438 \u0441\u043e\u043b\u0438\u0434\u0430\u0440\u043d\u044b \u0441 \u043c\u043e\u0435\u0439 \u0438 \u0441 \u0442\u0432\u043e\u0435\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0435\u0439",children:Object(u.jsx)("div",{children:Object(u.jsx)(se.a,{style:{borderRadius:"50%"},size:"2.1rem"})})})}),Object(u.jsx)(te.a,{item:!0,children:Object(u.jsx)(ce.a,{url:a,title:"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0430\u044f \u043c\u043d\u0435 \u043f\u0430\u0440\u0442\u0438\u044f \u2014 "+{nearest:t}+"\n"+n.join(" ")+"\n\n\u0423\u0437\u043d\u0430\u0439, \u043a\u0430\u043a\u0438\u0435 \u043a\u044b\u0440\u0433\u044b\u0437\u0441\u043a\u0438\u0435 \u043f\u0430\u0440\u0442\u0438\u0438 \u0441\u043e\u043b\u0438\u0434\u0430\u0440\u043d\u044b \u0441 \u043c\u043e\u0435\u0439 \u0438 \u0441 \u0442\u0432\u043e\u0435\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0435\u0439",children:Object(u.jsx)("div",{children:Object(u.jsx)(le.a,{style:{borderRadius:"50%"},size:"2.1rem"})})})})]})}),ue=Object(l.a)((function(e){var t,n,a;return{avtoportretContainer:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",columnGap:30},"@media (max-width:300px)",{gridTemplateColumns:"1fr"}),header:(t={fontWeight:700,padding:0,margin:"25px 0 10px 0",fontSize:23},Object(s.a)(t,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:14}),t),paragraph:(n={fontWeight:300,padding:0,margin:0,fontSize:20},Object(s.a)(n,"@media (max-width:780px)",{fontSize:15}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:11}),n),shareText:(a={marginTop:70,marginBottom:70,fontSize:22,textAlign:"center"},Object(s.a)(a,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(a,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(a,"@media (max-width:350px)",{fontSize:13}),a)}})),je=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)([]),s=Object(o.a)(c,2),l=s[0],d=s[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),f=b[0],p=b[1],x=Object(a.useState)({}),m=Object(o.a)(x,2),O=m[0],h=m[1],g=Object(a.useState)([]),v=Object(o.a)(g,2),w=v[0],y=v[1],z=e.nearestParty,C=e.currentAxises,k=ue();function _(e,t){return Object.keys(e).find((function(n){return e[n]===t}))}return Object(a.useEffect)((function(){var e=S.firestore();e.collection("texts").doc("matrix").onSnapshot((function(e){r(e.data().matrix_answers)})),e.collection("questions").doc("axises").onSnapshot((function(e){y(e.data().axises)})),e.collection("meta").doc("url").onSnapshot((function(e){p(e.data().url)}));d(["\u041f\u0440\u0430\u0432\u0430 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430","\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430","\u0421\u0432\u043e\u0431\u043e\u0434\u0430 \u0441\u043b\u043e\u0432\u0430","\u041f\u0440\u0430\u0432\u0430 \u0436\u0435\u043d\u0449\u0438\u043d","\u041a\u043e\u0440\u0440\u0443\u043f\u0446\u0438\u044f","\u041a\u0440\u0438\u043c\u0438\u043d\u0430\u043b","\u041e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u0441 \u0417\u0430\u043f\u0430\u0434\u043e\u043c","\u041e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u0441 \u0420\u043e\u0441\u0441\u0438\u0435\u0439","\u041e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u0441 \u041a\u0438\u0442\u0430\u0435\u043c","\u0410\u0442\u0430\u043c\u0431\u0430\u0435\u0432","\u0416\u044d\u044d\u043d\u0431\u0435\u043a\u043e\u0432","\u0416\u0430\u043f\u0430\u0440\u043e\u0432","\u041c\u0430\u0442\u0440\u0430\u0438\u043c\u043e\u0432\u044b"])}),[]),Object(a.useEffect)((function(){var e={};w&&i&&(l.map((function(t,n){var a,r=_(w,t),c=C[r];c>=-2&&c<=-1.11?a=i[r].m_2_m_1:c>=-1.1&&c<=-.61?a=i[r].m_1_m_06:c>=-.6&&c<=-.21?a=i[r].m_06_m02:c>=-.2&&c<=.21?a=i[r].m_02_p_02:c>=.21&&c<=.6?a=i[r].p_02_p_06:c>=.61&&c<=1.1?a=i[r].p_06_p_1:c>=1.11&&c<=2&&(a=i[r].p_1_p_2),e[r]=a})),h(e))}),[i,w]),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:k.avtoportretContainer,children:i&&l.map((function(e,t){var n=_(w,e);return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h4",{className:k.header,children:[e,":"]}),Object(u.jsx)("p",{className:k.paragraph,children:O[n]})]})}))}),Object(u.jsxs)("div",{className:k.shareText,children:[Object(u.jsx)("h5",{children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438 \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0435\u0442\u044f\u0445:"}),Object(u.jsx)(de,{nearest:z,url:f,texts:[O.japarov,O.matraimov]})]})]})},be=Object(l.a)((function(e){var t,n,a,i,r,c;return{mainHeader:(t={textAlign:"center",padding:0,fontSize:28,margin:"0 0 15px 0"},Object(s.a)(t,"@media (max-width:780px)",{fontSize:25}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:23}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:20}),t),subHeader:(n={textAlign:"center",padding:0,paddingBottom:15,fontSize:22,margin:"0 0 15px 0"},Object(s.a)(n,"@media (max-width:780px)",{fontSize:19}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:15}),n),paragraph:(a={fontSize:25,fontWeight:400,padding:0,margin:"10px 0"},Object(s.a)(a,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(a,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(a,"@media (max-width:350px)",{fontSize:13}),a),description:(i={fontSize:20,fontWeight:400,padding:"10px 0 0 0 ",margin:"10px 0"},Object(s.a)(i,"@media (max-width:780px)",{fontSize:17}),Object(s.a)(i,"@media (max-width:500px)",{fontSize:15}),Object(s.a)(i,"@media (max-width:350px)",{fontSize:13}),i),shareText:(r={marginTop:70,marginBottom:70,fontSize:22,textAlign:"center"},Object(s.a)(r,"@media (max-width:780px)",{fontSize:20}),Object(s.a)(r,"@media (max-width:500px)",{fontSize:17}),Object(s.a)(r,"@media (max-width:350px)",{fontSize:13}),r),scatterLineHeader:(c={padding:0,margin:0,marginTop:50,marginBottom:30,fontSize:25,textAlign:"center"},Object(s.a)(c,"@media (max-width:780px)",{fontSize:22}),Object(s.a)(c,"@media (max-width:500px)",{fontSize:19}),Object(s.a)(c,"@media (max-width:350px)",{fontSize:15}),c)}})),fe=function(e){var t=Object(a.useState)(null),i=Object(o.a)(t,2),r=i[0],c=i[1],s=Object(a.useState)([]),l=Object(o.a)(s,2),d=l[0],j=l[1],b=Object(a.useState)(null),p=Object(o.a)(b,2),x=p[0],m=p[1],O=Object(a.useState)([]),h=Object(o.a)(O,2),g=h[0],v=h[1],w=Object(a.useState)([]),y=Object(o.a)(w,2),z=y[0],C=y[1],k=Object(a.useState)({}),_=Object(o.a)(k,2),T=_[0],N=_[1],A=Object(a.useState)([]),E=Object(o.a)(A,2),W=E[0],R=E[1],B=Object(a.useState)({}),I=Object(o.a)(B,2),F=I[0],D=I[1],q=Object(a.useState)(null),U=Object(o.a)(q,2),P=U[0],H=U[1],G=Object(a.useState)(null),L=Object(o.a)(G,2),M=L[0],V=L[1],J=Object(a.useState)(null),K=Object(o.a)(J,2),X=K[0],Y=K[1],Q=Object(a.useState)(null),$=Object(o.a)(Q,2),ne=$[0],ie=$[1],re=Object(a.useState)({}),ce=Object(o.a)(re,2),oe=ce[0],se=ce[1],le=Object(a.useState)(null),de=Object(o.a)(le,2),ue=(de[0],de[1]),fe=Object(a.useState)(null),pe=Object(o.a)(fe,2),xe=pe[0],me=pe[1],Oe=Object(a.useState)({parties:{},parties_meta:{}}),he=Object(o.a)(Oe,2),ge=he[0],ve=he[1],Se=be(),we=e.currentAxises,ye=e.region,ze=n(272);function Ce(e,t){return Object.keys(e).find((function(n){return e[n]===t}))}Object(a.useEffect)((function(){R(["\u041f\u0440\u0430\u0432\u0430 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430","\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430","\u0421\u0432\u043e\u0431\u043e\u0434\u0430 \u0441\u043b\u043e\u0432\u0430","\u041f\u0440\u0430\u0432\u0430 \u0436\u0435\u043d\u0449\u0438\u043d","\u041a\u043e\u0440\u0440\u0443\u043f\u0446\u0438\u044f","\u041a\u0440\u0438\u043c\u0438\u043d\u0430\u043b","\u041e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u0441 \u0417\u0430\u043f\u0430\u0434\u043e\u043c","\u041e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u0441 \u0420\u043e\u0441\u0441\u0438\u0435\u0439","\u041e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u0441 \u041a\u0438\u0442\u0430\u0435\u043c","\u0410\u0442\u0430\u043c\u0431\u0430\u0435\u0432","\u0416\u044d\u044d\u043d\u0431\u0435\u043a\u043e\u0432","\u0416\u0430\u043f\u0430\u0440\u043e\u0432","\u041c\u0430\u0442\u0440\u0430\u0438\u043c\u043e\u0432\u044b"]);var e=S.firestore();e.collection("meta").doc("meta_parties").onSnapshot((function(e){ve({parties:e.data().parties,parties_meta:e.data().parties_meta})})),e.collection("fields").doc("regions_parties").onSnapshot((function(e){var t=e.data().regions_parities.map((function(e){if(e.region==ye)return e.parties})).filter(Boolean)[0];c(t)})),e.collection("questions").doc("axises").onSnapshot((function(e){N(e.data().axises)})),e.collection("texts").doc("scatter").onSnapshot((function(e){m(e.data().line_scatter)})),e.collection("applicants").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),j(t)})),D(we)}),[]),Object(a.useEffect)((function(){var e=Object(f.a)(new Set(d.map((function(e){return e.party})))),t={},n={},a={};e.map((function(e,i){t[i]=e,n[i]=0,a[i]=[]})),ue(t),d.map((function(e,i){var r=Ce(t,e.party);n[r]+=1,a[r].push(e)}));var i=e.map((function(e,i){var r={},c=Ce(t,e);Object.keys(T).map((function(e,t){return r[e]=0}));return a[c].map((function(e,t){Object.keys(r).map((function(t){r[t]+=e.axises[t]}))})),Object.keys(T).map((function(e){r[e]=r[e]/n[c]})),{party:e,axises:r}})),c=r,o=i.map((function(e,t){if(-1!=c.indexOf(e.party))return e})).filter(Boolean);me(o)}),[d]),Object(a.useEffect)((function(){if(P&&M&&xe){var e=xe.map((function(e,t){var n=Ce(ge.parties,e.party),a=ge.parties_meta[n].color;return{name:e.party,symbolSize:12,data:[[e.axises[P.axis],e.axises[M.axis]]],type:"scatter",symbol:"circle",color:"#".concat(a),emphasis:{label:{show:!0,formatter:e.party,position:"top"}}}}));e.push({name:"\u042f",symbolSize:12,data:[[F[P.axis],F[M.axis]]],type:"scatter",symbol:"emptyCircle",color:"#d902ff",emphasis:{label:{show:!0,formatter:"\u042f",position:"top"}}}),v(e)}if(P&&M){var t=1/0;xe.map((function(e,n){var a=ze([F[P.axis],F[M.axis]],[e.axises[P.axis],e.axises[M.axis]]);a<t&&(t=a,ie({distance:a,party:e}))}))}var n=W.map((function(e){e=Ce(T,e);var t=xe.map((function(t,n){var a=Ce(ge.parties,t.party),i=ge.parties_meta[a].color;return{name:t.party,symbolSize:12,data:[t.axises[e]],type:"scatter",symbol:"circle",color:"#".concat(i),emphasis:{label:{show:!0,formatter:t.party,position:"top"}}}}));return t.push({name:"\u042f",symbolSize:12,data:[F[e]],type:"scatter",symbol:"emptyCircle",color:"#d902ff",emphasis:{label:{show:!0,formatter:"\u042f",position:"top"}}}),{axisName:T[e],data:t}}));C(n);var a=Object.keys(T).sort(),i=a.map((function(e){return F[e]}));if(xe){var r=1/0;xe.map((function(e,t){var n=[];a.map((function(t,a){n.push(e.axises[t])}));var c=ze(n,i);if(c<r){r=c;var o=Ce(ge.parties,e.party),s=ge.parties_meta[o].url;Y({distance:c,party:e,url:s})}}))}var c={};Object.keys(T).map((function(e){var t=1/0;xe.forEach((function(n,a){var i=ze([n.axises[e]],[F[e]]);if(i<t){t=i;var r={distance:i,party:n};c[e]=r}}))}));se(c)}),[xe,P,M,T]);return Object(u.jsxs)("div",{children:[Object(u.jsxs)(te.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",children:[Object(u.jsxs)("h2",{className:Se.mainHeader,children:["\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0430\u044f \u0432\u0430\u043c \u043f\u0430\u0440\u0442\u0438\u044f:",Object(u.jsx)("br",{}),X?X.party.party:""]}),Object(u.jsx)("br",{}),Object(u.jsx)("img",{style:{width:"60%"},src:X?X.url:"",alt:""})]}),Object(u.jsx)("h2",{style:{marginTop:50},className:Se.mainHeader,children:"\u0412\u0430\u0448 \u043f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0432\u0442\u043e\u043f\u043e\u0440\u0442\u0440\u0435\u0442 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043e\u0442\u0432\u0435\u0442\u043e\u0432:"}),Object(u.jsx)(je,{nearestParty:X&&X.party.party,axises:T,currentAxises:F}),Object(u.jsx)("h5",{className:Se.scatterLineHeader,children:"\u0420\u0430\u0437\u0432\u0451\u0440\u043d\u0443\u0442\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b:"}),z.map((function(e,t){var n=Ce(T,e.axisName),a=oe[n];if("\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430"!=e.axisName)return Object(u.jsxs)("div",{style:{marginBottom:80},children:[Object(u.jsx)(ae,{plus:x&&x[n].plus,minus:x&&x[n].minus,data:e.data,axisName:e.axisName}),Object(u.jsxs)("p",{className:Se.description,children:[x&&x[n].description," \u2014 ",a?a.party.party:""]})]})})),Object(u.jsx)("h2",{className:Se.mainHeader,children:"\u041f\u043e\u0438\u0433\u0440\u0430\u0439\u0442\u0435\u0441\u044c \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438! \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u0445 \u043d\u0430 \u0433\u0440\u0430\u0444\u0438\u043a!"}),Object(u.jsx)("h3",{className:Se.subHeader,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0432\u0430 \u044f\u0432\u043b\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c:"}),Object(u.jsxs)(te.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",spacing:2,children:[Object(u.jsx)(te.a,{item:!0,children:Object(u.jsx)(ee,{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0441\u044c X",exist:M?M.title:"",answers:Object.values(T).sort(),returnAnswer:function(e){var t=Ce(T,e);H({title:e,axis:t})}})}),Object(u.jsx)(te.a,{item:!0,children:Object(u.jsx)(ee,{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0441\u044c Y",exist:P?P.title:"",answers:Object.values(T).sort(),returnAnswer:function(e){var t=Ce(T,e);V({title:e,axis:t})}})})]}),Object(u.jsx)(Z,{applicants:g}),Object(u.jsx)("div",{style:{marginBottom:50},children:ne?Object(u.jsxs)("h2",{style:{textAlign:"left"},className:Se.mainHeader,children:["\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0430\u044f \u043f\u0430\u0440\u0442\u0438\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0434\u0432\u0443\u0445 \u043e\u0441\u0435\u0439: ",ne?ne.party.party:""]}):""})]})},pe=Object(l.a)((function(e){var t,n;return{container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 20px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t),buttonExit:(n={color:"white",backgroundColor:"#d03d2f",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"15px",height:"50%",transform:"none",padding:"7px 40px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#d03d2f",border:"#d03d2f 1px solid"}},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:12}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:10}),n)}})),xe=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(null),s=Object(o.a)(c,2),l=s[0],d=s[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),f=b[0],p=b[1],x=Object(a.useState)(null),m=Object(o.a)(x,2),O=m[0],h=m[1],g=Object(a.useState)("ru"),v=Object(o.a)(g,2),w=v[0],y=v[1],z=Object(a.useState)(null),C=Object(o.a)(z,2),k=(C[0],C[1],Object(a.useState)(null)),_=Object(o.a)(k,2),T=_[0],N=_[1],A=Object(a.useState)("start"),E=Object(o.a)(A,2),W=E[0],R=E[1],B=pe(),F=e.page_for,D=Object(a.useContext)(J).currentUser,U=Object(a.useContext)(M).currentUser_applicant;Object(a.useEffect)((function(){S.firestore().collection("fields").doc(F).onSnapshot((function(e){p(e.data().questions)}))}),[]),Object(a.useEffect)((function(){if(l){var e;if("applicant"==F){var t=i[0],n=i[1],a=U.phoneNumber,r=i[2].split("=>")[0],c=i[2].split("=>")[1],o=i[3],s="answ_1"==i[4],d=!!i[4].split("==")[1]&&i[4].split("==")[1];e={name:t,lastName:n,number:a,region:r,party:c,photoUrl:o,axises:l,centralized:s,applicants_num:d}}else if("user"==F){e={sex:i[0],age:i[1],mail:D.email,region:i[2],axises:l}}var u=S.firestore(),j="applicant"==F?U.uid:D.uid;u.collection(F+"s").doc(j).set(e),N(e),R("final")}}),[l]);return Object(u.jsx)("div",{className:"App",children:w?Object(u.jsx)("div",{children:"start"==W?Object(u.jsxs)("div",{children:[O&&Object(u.jsx)(P,{text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430"}),Object(u.jsx)(q,{type_people:"user",returnFields:function(e){r(e)},lang:w}),Object(u.jsx)("button",{className:B.button,onClick:function(){return function(){var e=i.filter(Boolean);console.log(e),-1===(e=e.map((function(e){return e.length>=2}))).indexOf(!1)&&e.length==f.length&&e.length>0?R("questions"):h(!0)}()},children:"ru"==w?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0432\u043e\u043f\u0440\u043e\u0441\u0430\u043c":"\u0421\u0443\u0440\u043e\u043e\u043b\u043e\u0440"}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:B.buttonExit,onClick:function(){return S.auth().signOut()},children:"ru"==w?"\u0412\u044b\u0439\u0442\u0438":"\u0427\u044b\u0433\u0443\u0443"})]}):"questions"==W?Object(u.jsx)(L,{sex:"male"==i[0]?"he":"female"==i[0]?"she":"other",lang:w,returnAxisesAverage:function(e){d(e)},persons:"applicants"}):"applicant"==F?Object(u.jsxs)("div",{children:[Object(u.jsxs)("h1",{children:["  ","ru"==w?"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u0412\u0430\u0448\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b.":"\u0420\u0430\u0445\u043c\u0430\u0442"]}),Object(u.jsx)("img",{src:"https://st.depositphotos.com/1724162/4091/i/600/depositphotos_40912841-stock-photo-cats-eyes.jpg",alt:"kitty"})]}):Object(u.jsx)("div",{children:Object(u.jsx)(fe,{region:T.region,currentAxises:l})})}):Object(u.jsx)(I,{title:"\u041a\u0430\u043a\u043e\u0439 \u044f\u0437\u044b\u043a?",answers:["ru","kg"],values:["ru","kg"],returnAnswer:function(e){y(["ru","kg"][e.split("_")[1]-1])}})})},me=n(44),Oe=Object(l.a)((function(e){return{container:{paddingTop:20,paddingBottom:15},typography:{fontSize:"18px"}}})),he=function(e){var t=e.text,n=Oe();return Object(u.jsx)("div",{className:n.container,children:Object(u.jsx)("p",{className:n.typography,variant:"h6",component:"p",children:t})})};Object(me.f)((function(e){e.history;var t=Object(a.useState)(null),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(null),s=Object(o.a)(c,2),l=s[0],d=s[1],j=Object(a.useState)(null),f=Object(o.a)(j,2),p=f[0],x=f[1],m=Object(a.useState)([]),O=Object(o.a)(m,2),h=O[0],g=O[1],v=Object(a.useState)(null),w=Object(o.a)(v,2),y=w[0],z=w[1],C=Object(a.useContext)(M).currentUser;if(Object(a.useEffect)((function(){var e=S.firestore(),t="ru"==y?"login":"login_kg";e.collection("texts").doc(t).onSnapshot((function(e){g(e.data().texts)}))}),[y]),C)return Object(u.jsx)(me.a,{to:"/applicants"});var k=function(){window.recaptchaVerifier=new S.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){_()}})},_=function(){k();var e=i,t=window.recaptchaVerifier;S.auth().signInWithPhoneNumber(e,t).then((function(e){window.confirmationResult=e,x(!0)})).catch((function(e){console.log(e)}))};return Object(u.jsx)("div",{style:{marginTop:50},children:y?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{id:"recaptcha-container"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://kloop.kg/wp-content/uploads/2020/10/rZkloop-political-compass.jpg",style:{width:"30%"},alt:""}),h.map((function(e,t){return Object(u.jsx)(he,{text:e})})),Object(u.jsx)(b,{index:0,disabled:p,response:i,returnAnswer:function(e){r(e)},label:"+996555333222",title:"ru"==y?"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440":"\u0421\u0438\u0437\u0434\u0438\u043d \u0431\u04e9\u043b\u043c\u04e9\u043d\u04af\u043d \u043d\u043e\u043c\u0435\u0440\u0438"}),!p&&Object(u.jsx)(A.a,{style:{marginTop:15},variant:"contained",color:"primary",onClick:function(){return _()},children:"ru"==y?"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434":"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434 \u041a\u0420"})]}),p&&Object(u.jsxs)("div",{style:{marginTop:20},children:[Object(u.jsx)(b,{index:1,response:0,label:"ru"==y?"\u041a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441":"\u043a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441 \u041a\u0420",returnAnswer:function(e){d(e)},title:"ru"==y?"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441":"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441 \u041a\u0420"}),Object(u.jsx)(A.a,{style:{marginTop:15},variant:"contained",color:"secondary",onClick:function(){return function(e){var t=l;window.confirmationResult.confirm(t).then((function(e){e.user})).catch((function(e){console.log(e),alert("Incorrect OTP")}))}()},children:"ru"==y?"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c":"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u041a\u0420"})]})]}):Object(u.jsx)(I,{title:"\u041a\u0430\u043a\u043e\u0439 \u044f\u0437\u044b\u043a?",answers:["ru","kg"],values:["ru","kg"],returnAnswer:function(e){z(["ru","kg"][e.split("_")[1]-1])}})})})),n(333),n(337),n(336),n(332),n(334),n(335),n(320),Object(l.a)({table:{minWidth:650}});function ge(e,t,n,a,i){return{name:e,calories:t,fat:n,carbs:a,protein:i}}ge("Frozen yoghurt",159,6,24,4),ge("Ice cream sandwich",237,9,37,4.3),ge("Eclair",262,16,24,6),ge("Cupcake",305,3.7,67,4.3),ge("Gingerbread",356,16,49,3.9);var ve=n(204),Se=n(113),we=n(207),ye=function(e){var t=e.component,n=e.data,i=Object(we.a)(e,["component","data"]),r=Object(a.useContext)(J).currentUser;return Object(u.jsx)(me.b,Object(Se.a)(Object(Se.a)({},i),{},{render:function(e){return r?Object(u.jsx)(t,Object(Se.a)(Object(Se.a)({},n),e)):Object(u.jsx)(me.a,{data:n,to:"/login_users"})}}))},ze=Object(l.a)((function(e){var t,n;return{container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 20px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t),buttonMail:(n={color:"white",backgroundColor:"#d03d2f",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"15px",height:"50%",transform:"none",padding:"7px 40px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#d03d2f",border:"#d03d2f 1px solid"}},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:12}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:10}),n)}})),Ce=Object(me.f)((function(e){e.history;var t=Object(a.useState)(null),n=Object(o.a)(t,2),i=(n[0],n[1],Object(a.useState)(null)),r=Object(o.a)(i,2),c=(r[0],r[1],Object(a.useState)(null)),s=Object(o.a)(c,2),l=(s[0],s[1],Object(a.useState)([])),d=Object(o.a)(l,2),j=(d[0],d[1],Object(a.useState)(null)),b=Object(o.a)(j,2),f=(b[0],b[1],ze());if(Object(a.useContext)(J).currentUser)return Object(u.jsx)(me.a,{to:"/choose_option"});return Object(u.jsxs)("div",{className:f.container,children:[Object(u.jsx)("button",{className:f.buttonMail,onClick:function(){g.a.auth().signInWithPopup(v)},children:"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u0447\u0442\u0443"}),Object(u.jsx)("button",{className:f.button,onClick:function(){g.a.auth().signInAnonymously()},children:"\u0432\u043e\u0439\u0442\u0438 \u0430\u043d\u043e\u043d\u0438\u043c\u043d\u043e"})]})})),ke=Object(l.a)((function(e){var t,n;return{container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 20px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t),buttonExit:(n={color:"white",backgroundColor:"#d03d2f",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"15px",height:"50%",transform:"none",padding:"7px 40px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#d03d2f",border:"#d03d2f 1px solid"}},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:12}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:10}),n)}})),_e=Object(me.f)((function(e){e.history;var t=Object(a.useState)(null),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),l=s[0],d=s[1],j=Object(a.useState)(null),b=Object(o.a)(j,2),f=(b[0],b[1],ke()),p=Object(a.useContext)(J).currentUser;Object(a.useEffect)((function(){S.firestore().collection("users").doc(p.uid).onSnapshot((function(e){d(e.data())}))}),[]);return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:f.container,children:[Object(u.jsx)("button",{className:f.button,onClick:function(){return r("passTest")},children:"\u043f\u0440\u043e\u0439\u0442\u0438 \u0442\u0435\u0441\u0442"}),l&&Object(u.jsx)("button",{className:f.button,onClick:function(){return r("whatchResults")},children:"\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"}),"passTest"==i?Object(u.jsx)(me.a,{to:"/users"}):"whatchResults"==i?Object(u.jsx)(me.a,{to:"/find"}):Object(u.jsx)("div",{})]}),Object(u.jsxs)("div",{className:f.container,children:[Object(u.jsx)("button",{className:f.buttonExit,onClick:function(){return S.auth().signOut()},children:"\u0412\u044b\u0439\u0442\u0438"}),Object(u.jsx)("div",{})]})]})})),Te=Object(l.a)((function(e){var t,n;return{container:Object(s.a)({display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},"@media (max-width:500px)",{gridTemplateColumns:"1fr"}),button:(t={color:"white",backgroundColor:"#000",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"13px",height:"50%",transform:"none",padding:"7px 20px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#000000",border:"#000 1px solid"}},Object(s.a)(t,"@media (max-width:780px)",{fontSize:12}),Object(s.a)(t,"@media (max-width:500px)",{fontSize:11}),Object(s.a)(t,"@media (max-width:350px)",{fontSize:10}),t),buttonExit:(n={color:"white",backgroundColor:"#d03d2f",borderStyle:"none",fontFamily:"Roboto, sans-serif",fontWeight:"bold",fontSize:"15px",height:"50%",transform:"none",padding:"7px 40px",textTransform:"uppercase",textDecoration:"none",transition:"all 0.7s ease 0s",placeSelf:"center",outline:"none",margin:"25px 0 30px 0","&:hover":{backgroundColor:"#ffffff",color:"#d03d2f",border:"#d03d2f 1px solid"}},Object(s.a)(n,"@media (max-width:780px)",{fontSize:13}),Object(s.a)(n,"@media (max-width:500px)",{fontSize:12}),Object(s.a)(n,"@media (max-width:350px)",{fontSize:10}),n)}})),Ne=function(e){var t=Object(a.useState)(null),n=Object(o.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(null),s=Object(o.a)(c,2),l=s[0],d=s[1],j=Object(a.useState)(null),b=Object(o.a)(j,2),f=b[0],p=b[1],x=Object(a.useContext)(J).currentUser,m=(Object(a.useContext)(M).currentUser_applicant,Te());return Object(a.useEffect)((function(){S.firestore().collection("users").doc(x.uid).onSnapshot((function(e){void 0==e.data()?d(!0):r(e.data())}))}),[]),Object(u.jsxs)("div",{children:[l?Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"\u0412\u044b \u0435\u0449\u0451 \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u0438 \u0442\u0435\u0441\u0442"}),Object(u.jsx)("button",{className:m.button,onClick:function(){return p("passTest")},children:"\u043f\u0440\u043e\u0439\u0442\u0438 \u0442\u0435\u0441\u0442"})]}):Object(u.jsx)("div",{}),i&&Object(u.jsx)(fe,{region:i.region,currentAxises:i.axises}),"passTest"==f?Object(u.jsx)(me.a,{to:"/users"}):Object(u.jsx)("div",{})]})},Ae=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(ve.a,{children:Object(u.jsx)(V,{children:Object(u.jsx)(K,{children:Object(u.jsxs)(ve.a,{children:[Object(u.jsx)(ye,{data:{page_for:"user"},exact:!0,path:"/users",component:xe}),Object(u.jsx)(ye,{exact:!0,path:"/find",component:Ne}),Object(u.jsx)(ye,{exact:!0,path:"/choose_option",component:_e}),Object(u.jsx)(me.b,{exact:!0,path:"/login_users",component:Ce})]})})})})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,348)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(Ae,{})}),document.getElementById("root")),Ee()}},[[275,1,2]]]);
//# sourceMappingURL=main.c5f39a3b.chunk.js.map